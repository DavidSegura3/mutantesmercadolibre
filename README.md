# mutantesmercadolibre
Paso a paso para ejecutar la aplicación:

1. Instalar PostgreSQL(Si ya tiene instalado Postgres omitir este paso)
- Al momento de instalar tener en cuenta la siguiente configuración del motor de base de datos:
- usuario: postgres
- contrasena: admin

2. Luego de instalar el motor de base de datos ejecutar los siguientes queries:

- create database mutantes;

- create schema mutante;

- CREATE TABLE mutante.humano
(
    id bigint 				NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    adn varchar(100) 		NOT NULL,
    mutante Boolean			NOT NULL,
    CONSTRAINT humano_pk PRIMARY KEY (id),
    CONSTRAINT humano_uk unique (adn)
}

3. Clonar y descargar los siguientes proyectos:

- https://github.com/DavidSegura3/eurekaservermutante.git
- https://github.com/DavidSegura3/mutantesmercadolibre.git
- https://github.com/DavidSegura3/gatewayservermutant.git


4. Una vez clonados hacer checkout de la rama develop.

5. Validar el usuario y la contraseña de la base de datos, por defecto tengo los siguientes valores en el archivo de application.properties.

- spring.datasource.username=postgres
- spring.datasource.password=admin

Si tiene valores diferentes cambiar el archivo application.propierties del proyecto mutantesmercadolibre.

6. Importar los proyectos como MAVEN. 

7. Ejecutar los proyectos en el siguiente orden:

- EurekaServerMutant
- MELIMutant (Puede crear las instancias necesarias para que Eureka Server utilice el balancero de carga)
- GatewayServerMutant


8. Una vez los proyectos se encuentren arriba se deben ejecutar los siguientes endpoints:

**El primer endpoint es para analizar el array y agregar los valores y determinar los mutantes**
Endpoint de tipo POST:
- http://localhost:8090/api/mutantes/mutant
- Body:
{
    "adn" : [
        "CTGCGA", "CCGTAA", "TTCAGT", "AGACGG", "CCCCTA", "TCACTG"
    ]
}

**El segundo endpoint es sacar las estadisticas de humanos vs mutantes**
Endpoint de tipo GET:
- http://localhost:8090/api/mutantes/stats



-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

![image](https://user-images.githubusercontent.com/48692997/130154180-b3976a93-37ec-48f9-b2a6-0231ea7fe350.png)


**Explicación proyectos y una parte del código**


1. EurekaServerMutant - **Servidor Eureka**

Cuando arrancamos el servicio MELIMutantes, se comunicará con el servidor Eureka para notificarle que está disponible para ser consumido. El servidor Eureka mantendrá la información del microservicio registrado y su estado. MELIMutantes le notificará su estado mediante heartbeats cada 30 segundos. Si pasados tres periodos heartbeats no recibe ninguna notificación del microservicio, lo eliminará de su registro. Al igual que si después de sacarlo del registro recibe tres notificaciones, entenderá que ese microservicio vuelve a estar disponible. 

2. MELIMutant - **Microservicio** 





1. Valido la longitud del array.
2. Valido que el array sea de NxN.
3. Valido que el los caracteres ingresados sean los permitodos(A - T - C - G).
4. Luego de esas validaciones empiezo paso seguido es validar si existe alguna secuencia de manera horizontal, verticual y oblicua(izquierda/derecha).
















> @Author - David Segura
